<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jadeed Skills | CV Store</title>

<style>
body{
  margin:0;
  font-family:'Poppins',Arial,sans-serif;
  background: linear-gradient(270deg, red, orange, yellow, green, blue, indigo, violet);
  background-size:1400% 1400%;
  animation:rainbowBG 25s ease infinite;
}
@keyframes rainbowBG{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

header{
  text-align:center;
  padding:30px 20px;
  color:white;
  text-shadow:2px 2px 6px rgba(0,0,0,.6);
}
.logo{width:120px;margin-bottom:15px}

.socials{
  margin-top:15px;
}
.socials a{
  display:inline-block;
  margin:0 6px;
  padding:8px 14px;
  border-radius:20px;
  color:white;
  text-decoration:none;
  font-weight:bold;
  background:linear-gradient(45deg,#ff0050,#00f2ea);
}
.socials a.fb{background:linear-gradient(45deg,#1877f2,#0d47a1)}
.socials a.ig{background:linear-gradient(45deg,#f58529,#dd2a7b,#8134af)}
.socials a.tt{background:linear-gradient(45deg,#000,#ff0050)}

.container{
  background:linear-gradient(135deg,#ff9a9e,#fad0c4,#a18cd1,#fbc2eb);
  background-size:400% 400%;
  animation:rainbowContainer 15s ease infinite;
  border-radius:30px 30px 0 0;
  padding:30px;
  min-height:70vh;
}
@keyframes rainbowContainer{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:25px;
}

.card{
  position:relative;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  border-radius:25px;
  padding:20px;
  box-shadow:0 8px 20px rgba(0,0,0,.2);
  transition:.4s;
  border:5px solid;
  border-image:linear-gradient(135deg,red,orange,yellow,green,blue,indigo,violet) 1;
}
.card:hover{
  transform:scale(1.06) rotate(1deg);
  box-shadow:0 25px 40px rgba(0,0,0,.35);
}
.card img{
  width:100%;
  border-radius:15px;
}
.card h3{
  margin:10px 0 5px;
  background:linear-gradient(135deg,red,orange,yellow,green,blue,indigo,violet);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}
.desc{
  font-size:14px;
  margin-bottom:6px;
}
.price{
  font-weight:bold;
  color:#1e88e5;
}

.buy{
  width:100%;
  margin-top:10px;
  padding:12px;
  border:none;
  border-radius:30px;
  background:linear-gradient(45deg,red,orange,yellow,green,blue,indigo,violet);
  background-size:400% 400%;
  animation:rainbowBtn 5s ease infinite;
  color:white;
  font-weight:bold;
  cursor:pointer;
}
@keyframes rainbowBtn{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.removeBtn{
  position:absolute;
  top:10px;
  right:10px;
  background:red;
  color:white;
  border:none;
  border-radius:50%;
  width:28px;
  height:28px;
  cursor:pointer;
  display:none;
}

#addBtn{
  position:fixed;
  bottom:25px;
  right:25px;
  width:65px;
  height:65px;
  font-size:2.5rem;
  border-radius:50%;
  border:none;
  background:linear-gradient(135deg,red,orange,yellow,green,blue,indigo,violet);
  color:white;
  box-shadow:0 10px 25px rgba(0,0,0,.3);
  display:none;
}

#visitorBtn{
  position:fixed;
  bottom:105px;
  right:25px;
  padding:10px 15px;
  border-radius:10px;
  background:rgba(0,0,0,.7);
  color:white;
  display:none;
}
</style>
</head>

<body>

<header>
  <img src="logoimage.jpg" class="logo">
  <h1>Jadeed Skills</h1>
  <p>Professional CV & Resume Services</p>

  <div class="socials">
    <a class="tt" href="https://www.tiktok.com/" target="_blank">TikTok</a>
    <a class="fb" href="https://www.facebook.com/" target="_blank">Facebook</a>
    <a class="ig" href="https://www.instagram.com/" target="_blank">Instagram</a>
  </div>
</header>

<div class="container">
  <div class="products" id="list"></div>
</div>

<button id="addBtn">+</button>
<button id="visitorBtn"></button>

<script>
const WHATSAPP="923146099983";
let isAdmin=false,visits=0;

fetch("api.php?action=get")
.then(r=>r.json())
.then(d=>{
  visits=d.visits;
  render(d.items);
});

function render(items){
  const list=document.getElementById("list");
  list.innerHTML="";
  items.forEach((p,i)=>{
    if(p.type==="cv"){
      let msg=`Assalamualaikum, I want this CV:%0A${p.title}%0APrice: ${p.price}`;
      list.innerHTML+=`
      <div class="card">
        <img src="${p.image}">
        <h3>${p.title}</h3>
        <div class="desc">${p.description}</div>
        <div class="price">${p.price}</div>
        <button class="buy" onclick="window.open('https://wa.me/${WHATSAPP}?text=${msg}')">Buy on WhatsApp</button>
        ${isAdmin?`<button class="removeBtn" onclick="del(${i})">ðŸ—‘</button>`:""}
      </div>`;
    }
  });
}

function del(i){
  if(confirm("Delete this item?")){
    fetch("api.php?action=delete&index="+i).then(()=>location.reload());
  }
}

/* 15 sec admin unlock */
let timer;
document.body.onmousedown=document.body.ontouchstart=()=>{
  timer=setTimeout(()=>{
    if(prompt("Admin Password")==="Daniyal@123"){
      isAdmin=true;
      document.getElementById("addBtn").style.display="block";
      document.getElementById("visitorBtn").style.display="block";
      document.getElementById("visitorBtn").innerText="Visitors: "+visits;
      fetch("api.php?action=get").then(r=>r.json()).then(d=>render(d.items));
    }
  },15000);
};
document.body.onmouseup=document.body.ontouchend=()=>clearTimeout(timer);

document.getElementById("addBtn").onclick=()=>{
  let title=prompt("CV Title");
  let price=prompt("Price");
  let description=prompt("Description");
  let image=prompt("Image filename");
  fetch("api.php?action=add",{
    method:"POST",
    body:JSON.stringify({type:"cv",title,price,description,image})
  }).then(()=>location.reload());
};
</script>

</body>
</html>
