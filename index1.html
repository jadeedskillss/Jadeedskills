<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Jadeed Skills – CV Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}

body{
  background:linear-gradient(120deg,#ff0080,#7928ca,#00c6ff,#00ff99);
  background-size:400% 400%;
  animation:bg 10s infinite alternate;
  color:#fff;
  min-height:100vh;
}
@keyframes bg{
  0%{background-position:0% 50%}
  100%{background-position:100% 50%}
}

/* HEADER */
header{text-align:center;padding:25px}
header img{
  width:100px;
  border-radius:50%;
  border:5px solid transparent;
  background:
    linear-gradient(#000,#000) padding-box,
    linear-gradient(45deg,red,orange,yellow,green,cyan,blue,purple) border-box;
}
header h1{margin-top:10px;font-size:30px}
header p{opacity:.9}

/* FEED */
#feed{
  padding:20px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:25px;
}

/* CARD */
.card{
  background:
    linear-gradient(#111,#111) padding-box,
    linear-gradient(60deg,#ff0000,#ff9900,#ffee00,#33ff00,#00ffee,#0066ff,#cc00ff) border-box;
  border:4px solid transparent;
  border-radius:26px;
  padding:16px;
  transition:.5s;
  box-shadow:0 20px 40px rgba(0,0,0,.5);
}
.card:hover{
  transform:translateY(-12px) scale(1.04);
}
.card img{
  width:100%;
  border-radius:18px;
}
.card h3{margin:10px 0 5px}
.card p{font-size:14px;opacity:.9}
.price{font-weight:bold;margin-top:5px}

/* BUY BUTTON */
.buy{
  margin-top:12px;
  display:block;
  text-align:center;
  padding:12px;
  border-radius:30px;
  background:linear-gradient(45deg,#25D366,#1ebe57);
  color:#000;
  font-weight:bold;
  text-decoration:none;
  animation:pulse 1.5s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(37,211,102,.6)}
  70%{box-shadow:0 0 0 15px rgba(37,211,102,0)}
  100%{box-shadow:0 0 0 0 rgba(37,211,102,0)}
}

/* ADMIN */
.del{
  position:absolute;
  top:12px;right:12px;
  background:red;color:#fff;
  border:none;width:32px;height:32px;
  border-radius:50%;cursor:pointer;
}
#addBtn,#visitBtn{
  position:fixed;right:20px;
  z-index:999;border:none;
  font-weight:bold;cursor:pointer;
}
#addBtn{
  bottom:20px;
  width:65px;height:65px;
  border-radius:50%;
  font-size:34px;
  background:linear-gradient(45deg,#00ffcc,#00ccff);
}
#visitBtn{
  bottom:95px;
  padding:12px 18px;
  border-radius:30px;
  background:linear-gradient(45deg,#ffeb3b,#ff9800);
  color:#000;
}
</style>
</head>

<body>

<header>
  <img src="logoimage.jpg">
  <h1>Jadeed Skills</h1>
  <p>Premium CV & Resume Designs</p>
</header>

<div id="feed"></div>

<script>
let isAdmin=false,totalVisits=0;

fetch("api.php?action=get")
.then(r=>r.json())
.then(d=>{
  totalVisits=d.visits;
  render(d.items);
});

function render(items){
  feed.innerHTML="";
  items.forEach((it,i)=>{
    let msg=`Assalamualaikum, I want this CV:%0A${it.title}%0APrice: ${it.price}`;
    feed.innerHTML+=`
    <div class="card" style="position:relative">
      <img src="${it.image}">
      <h3>${it.title}</h3>
      <p>${it.description}</p>
      <div class="price">${it.price}</div>
      <a class="buy" href="https://wa.me/923146099983?text=${msg}" target="_blank">
        Buy on WhatsApp
      </a>
      ${isAdmin?`<button class="del" onclick="del(${i})">✕</button>`:""}
    </div>`;
  });
}

function del(i){
  if(confirm("Delete item?")){
    fetch("api.php?action=delete&index="+i)
    .then(()=>location.reload());
  }
}

/* SECRET ADMIN */
let t;
document.body.onmousedown=document.body.ontouchstart=()=>{
  t=setTimeout(()=>{
    if(prompt("Password")==="Daniyal@123"){
      isAdmin=true;adminUI();alert("Admin unlocked");
    }
  },15000);
}
document.body.onmouseup=document.body.ontouchend=()=>clearTimeout(t);

function adminUI(){
  let a=document.createElement("button");
  a.id="addBtn";a.innerText="+";
  a.onclick=addItem;
  document.body.appendChild(a);

  let v=document.createElement("button");
  v.id="visitBtn";
  v.innerText="Visitors: "+totalVisits;
  document.body.appendChild(v);
}

function addItem(){
  let title=prompt("CV Title");
  let price=prompt("Price");
  let description=prompt("Description");
  let image=prompt("Image filename");
  fetch("api.php?action=add",{
    method:"POST",
    body:JSON.stringify({
      type:"cv",title,price,description,image
    })
  }).then(()=>location.reload());
}
</script>

</body>
</html>
